package day05;

import java.time.*;
import java.util.Locale;

import java.time.format.DateTimeFormatter;

public class GAProgram01 {

	public static void main(String[] args) {
		
		System.out.println(getLuckyNumber("27-JUL-2010"));
	
	}
	


	public static int convertMMMtoMM(String month, int year) {
	    String formattedMonth = month.substring(0, 3).toUpperCase();
	    DateTimeFormatter formatter = DateTimeFormatter.ofPattern("MMM", Locale.ENGLISH);
	    return LocalDate.parse(year + "-" + formattedMonth + "-01").getMonthValue();
	}
	

	    public static int getSumOfDigits(int number) {
	        int sum = 0;
	        while (number > 0) {
	            sum += number % 10;
	            number /= 10;
	        }
	        return sum;
	    }
	    
	    public static int getLuckyNumber(String dob) {
	        String[] parts = dob.split("-");
	        if (parts.length != 3) {
	            System.out.println("Invalid date format.");
	            return -1;
	        }
	        int day = Integer.parseInt(parts[0]);
	        int month = convertMMMtoMM(parts[1]);
	        int year = Integer.parseInt(parts[2]);
	        int sum = getSumOfDigits(day) + getSumOfDigits(month) + getSumOfDigits(year);
	        while (sum >= 10) {
	            sum = getSumOfDigits(sum);
	        }
	        return sum;
	    }

	    public static int convertMMMtoMM(String month) {
	        String formattedMonth = month.substring(0, 3).toUpperCase();
	        DateTimeFormatter formatter = DateTimeFormatter.ofPattern("MMM", Locale.ENGLISH);
	        LocalDate date = LocalDate.parse("2000-" + formattedMonth + "-01");
	        return date.getMonthValue();
	    }


//	    
}
